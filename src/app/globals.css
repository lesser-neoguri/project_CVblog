@tailwind base;
@tailwind components;
@tailwind utilities;

@import '../styles/glasseffect.css';

/* GLOBAL STYLES */
html {
  scroll-behavior: smooth;
}

body {
  padding: 0;
  margin: 0;
  min-height: 100vh;
  background: #1a1a1a;
  font-family: sans-serif;
  font-weight: 300;
  position: relative;
  transition: background-color 0.3s ease;
}

main {
  width: 100%;
  min-height: 100vh;
}

body.light-theme {
  background: #FAF8F3;
}

/* 검색 페이지 */
.search-page {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 10000;
  transition: background-color 0.3s ease;
}

.search-page.dark {
  background: #1a1a1a;
}

.search-page.light {
  background: #FAF8F3;
}

/* 검색 페이지 콘텐츠 */
.search-content {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10001;
}

/* 검색 페이지 아이리스 인 오버레이 (원형 스프라이트 축소) */
.search-iris-in-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 10002;
  clip-path: circle(100% at 50% 50%);
  animation: irisIn 1s cubic-bezier(0.45, 0, 0.15, 1) forwards;
  pointer-events: none;
}

/* 야간 모드에서: 아이보리 색상 */
.search-page.dark .search-iris-in-overlay {
  background: #FAF8F3;
}

/* 라이트 모드에서: 어두운 색상 */
.search-page.light .search-iris-in-overlay {
  background: #1a1a1a;
}

/* 애니메이션 완료 후 작은 원형 유지 (16px 지름 = 8px 반지름) */
.search-iris-in-overlay.complete {
  clip-path: circle(8px at 50% 50%);
}

@keyframes irisIn {
  0% {
    clip-path: circle(100% at 50% 50%);
  }
  100% {
    clip-path: circle(8px at 50% 50%);
  }
}

/* 검색 모드 비네팅 오버레이 - 성능 최적화 */
@property --hole-size {
  syntax: '<percentage>';
  inherits: false;
  initial-value: 150%;
}

.search-vignette-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 9999;
  cursor: pointer;
  --hole-size: 150%;
  mask-image: radial-gradient(circle at center, transparent var(--hole-size), black var(--hole-size));
  -webkit-mask-image: radial-gradient(circle at center, transparent var(--hole-size), black var(--hole-size));
  animation: irisOut 1s cubic-bezier(0.65, 0, 0.35, 1) forwards;
  will-change: contents;
}

/* 야간 모드: 아이보리 색상으로 가리기 */
.search-vignette-overlay.dark-mode {
  background: #FAF8F3;
}

/* 라이트 모드: 어두운 색상으로 가리기 */
.search-vignette-overlay.light-mode {
  background: #1a1a1a;
}

@keyframes irisOut {
  0% {
    --hole-size: 150%;
  }
  100% {
    --hole-size: 0%;
  }
}